---
import SocialMedia from '@components/SocialLink.astro'
import {
	BANDCAMP_LINK,
	BEATPORT_LINK,
	DISCOGS_LINK,
	FACEBOOK_LINK,
	INSTAGRAM_LINK,
	SOUNDCLOUD_LINK,
	SPOTIFY_ARTIST_LINK
} from '../config'
const currentYear = new Date().getFullYear()
---

<footer aria-labelledby="footer-heading">
	<h2 id="footer-heading" class="sr-only">Footer</h2>
	<nav>
		<ul>
			<SocialMedia platform="Bandcamp" link={BANDCAMP_LINK} />
			<SocialMedia platform="Beatport" link={BEATPORT_LINK} />
			<SocialMedia platform="Discogs" link={DISCOGS_LINK} />
			<SocialMedia platform="Spotify" link={SPOTIFY_ARTIST_LINK} />
			<SocialMedia platform="Soundcloud" link={SOUNDCLOUD_LINK} />
			<SocialMedia platform="Instagram" link={INSTAGRAM_LINK} />
			<SocialMedia platform="Facebook" link={FACEBOOK_LINK} />
		</ul>
	</nav>
	<p>
		&copy; {currentYear}
	</p>
</footer>

<style lang="scss">
	footer {
		display: block;
	}
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border-width: 0;
	}
	footer {
		.footer-content {
			display: grid;
			gap: 2rem;
			grid-template-columns: repeat(2, minmax(0, 1fr));
		}
		.footer-columns {
			display: grid;
			grid-column: span 2 / span 2;
			gap: 2rem;
			grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));
		}
		.footer-column {
			display: flex;
			flex-direction: column;
			gap: 0.7rem;
			> h3 {
				margin: 0;
				text-transform: uppercase;
			}
		}
		.footer-newsletter {
			margin-top: 2rem;
			> h3 {
				margin: 0;
				letter-spacing: 0.05em;
				text-transform: uppercase;
				font-weight: 600;
				font-size: 0.875rem;
				line-height: 1.25rem;
			}
			> p {
				font-size: 1rem;
				line-height: 1.5rem;
				margin-top: 1rem;
			}
			> form {
				display: flex;
				align-items: center;
				gap: 1rem;
				> input {
					flex-grow: 1;
					min-width: 9rem;
					font-size: 1rem;
				}
			}
			.subscribe-button {
				border-radius: 0.375rem;
			}
		}
		.footer-footer {
			padding-top: 1rem;
			margin-top: 3rem;
			border-top-width: 1px;
			.footer-icons {
				display: flex;
			}
			.footer-icons > :not([hidden]) ~ :not([hidden]) {
				margin-right: calc(1.5rem * 0);
				margin-left: calc(1.5rem * calc(1 - 0));
			}
			.footer-icon > svg {
				height: 1.5rem;
				width: 1.5rem;
			}
			.footer-copyright {
				font-size: 1rem;
				line-height: 1.5rem;
				margin-top: 2rem;
			}
		}
	}
	@media (min-width: 640px) {
		.footer-newsletter {
			> form {
				max-width: 28rem;
			}
		}
	}
	@media (min-width: 1280px) {
		footer {
			.footer-content {
				display: grid;
				gap: 2rem;
				grid-template-columns: repeat(3, minmax(0, 1fr));
			}
			.footer-newsletter {
				margin-top: 0;
			}
		}
	}
	@media (min-width: 768px) {
		footer {
			.footer-footer {
				display: flex;
				align-items: center;
				justify-content: space-between;
				.footer-icons {
					order: 2;
				}
			}
			.footer-copyright {
				margin-top: 0;
				order: 1;
			}
		}
	}
	footer p {
		color: darken(white, 50%);
		font-family: 'IBM Plex Mono', 'IBM Plex Mono-fallback';
	}
</style>
